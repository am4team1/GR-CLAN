<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ - GR CLAN</title>
    <link rel="stylesheet" href="css/colors.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ØªØµÙ…ÙŠÙ… Ù…ØªØ¬Ø§ÙˆØ¨ Ù…Ø¹ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        .register-page {
            min-height: 100vh;
            padding: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow-y: auto;
        }
        
        /* Ø­Ø§ÙˆÙŠØ© Ø£ÙƒØ¨Ø± Ù„Ø§Ø­ØªÙˆØ§Ø¡ Ø§Ù„Ù…Ø­ØªÙˆÙ‰ */
        .register-wrapper {
            min-height: 700px;
            max-height: 90vh;
            overflow-y: auto;
            width: 100%;
            max-width: 500px;
            padding: 20px;
        }
        
        /* ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ù„Ù„ØªÙ…Ø±ÙŠØ± */
        .auth-form {
            min-height: 500px;
        }
        
        /* Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© */
        .back-home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
        }
        
        /* Ø¥Ø´Ø¹Ø§Ø±Ø§Øª */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--success);
            color: white;
            padding: 15px 25px;
            border-radius: 10px;
            display: none;
            z-index: 1001;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            animation: slideInRight 0.3s ease;
        }
        
        /* ØªÙ„Ù…ÙŠØ­Ø§Øª ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡ */
        .performance-tip {
            background: rgba(212,175,55,0.1);
            border: 1px solid var(--gold);
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
            font-size: 0.9rem;
            color: var(--gold);
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù… */
        .strength-bar.weak { background: var(--error); }
        .strength-bar.medium { background: var(--warning); }
        .strength-bar.strong { background: var(--success); }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ù…ØªØ·Ù„Ø¨Ø§Øª */
        .requirement-icon {
            font-size: 1.2rem;
            min-width: 25px;
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø®Ù„ÙÙŠØ© Ù„Ù„ØªÙ…Ø±ÙŠØ± */
        .register-wrapper::-webkit-scrollbar {
            width: 8px;
        }
        
        .register-wrapper::-webkit-scrollbar-track {
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
        }
        
        .register-wrapper::-webkit-scrollbar-thumb {
            background: var(--gold);
            border-radius: 4px;
        }
        
        /* Ù‚Ø³Ù… Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        .extra-info {
            background: rgba(212,175,55,0.05);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border: 1px dashed var(--gold);
        }
        
        .extra-info h4 {
            color: var(--gold);
            margin-bottom: 10px;
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ø¹Ø§Ù… */
        .form-step {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .form-step.active {
            display: block;
        }
        
        /* Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ */
        .form-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
            gap: 15px;
        }
        
        .nav-btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: 2px solid var(--gold);
            background: rgba(212,175,55,0.1);
            color: var(--gold);
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .nav-btn:hover {
            background: var(--gold);
            color: var(--dark-blue);
            transform: translateY(-2px);
        }
        
        .nav-btn.primary {
            background: var(--gold);
            color: var(--dark-blue);
        }
        
        .nav-btn.primary:hover {
            background: var(--gold-light);
        }
    </style>
</head>
<body class="auth-page register-page">
    <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <a href="index.html" class="back-home-btn">
        <span>ğŸ </span>
        Ø§Ù„Ø¹ÙˆØ¯Ø©
    </a>
    
    <!-- Ø¥Ø´Ø¹Ø§Ø±Ø§Øª -->
    <div id="notification" class="notification"></div>
    
    <!-- Ø­Ø§ÙˆÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ -->
    <div class="register-wrapper">
        <div class="auth-container">
            <!-- Ø§Ù„Ø±Ø£Ø³ -->
            <div class="auth-header">
                <div class="clan-logo-small">
                    <img src="assets/images/clan-logo.png" alt="Ø´Ø¹Ø§Ø± GR CLAN" style="width: 60px; height: 60px; border-radius: 50%;">
                </div>
                <h1 class="auth-title">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h1>
                <p class="auth-subtitle">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ GR CLAN ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ø¹Ù†Ø§</p>
            </div>
            
            <!-- Ø§Ù„Ù†Ù…ÙˆØ°Ø¬ Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ø®Ø·ÙˆØ§Øª -->
            <form id="registerForm" class="auth-form">
                <!-- Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© -->
                <div class="form-step active" id="step1">
                    <h3 style="color: var(--gold); margin-bottom: 20px; border-bottom: 2px solid var(--gold); padding-bottom: 10px;">Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©</h3>
                    
                    <!-- Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ -->
                    <div class="form-group">
                        <label for="pubgId" class="form-label">
                            Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ (PUBG ID)
                        </label>
                        <input 
                            type="text" 
                            id="pubgId" 
                            class="form-input"
                            placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ Ø§Ù„Ù…ÙƒÙˆÙ† Ù…Ù† 10 Ø£Ø±Ù‚Ø§Ù…"
                            required
                            maxlength="10"
                            pattern="\d{10}"
                            oninput="this.value = this.value.replace(/[^0-9]/g, '')"
                        >
                        <div class="input-error" id="pubgIdError"></div>
                        <div class="form-tip">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¹Ø±ÙÙƒ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</div>
                    </div>
                    
                    <!-- Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
                    <div class="form-group">
                        <label for="username" class="form-label">
                            Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                        </label>
                        <input 
                            type="text" 
                            id="username" 
                            class="form-input"
                            placeholder="Ø§Ø®ØªØ± Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙØ±ÙŠØ¯"
                            required
                            minlength="3"
                            maxlength="20"
                        >
                        <div class="input-error" id="usernameError"></div>
                        <div class="form-tip">3-20 Ø­Ø±ÙØŒ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø±Ù Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØ£Ø±Ù‚Ø§Ù… Ùˆ _</div>
                    </div>
                    
                    <!-- Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© -->
                    <div class="extra-info">
                        <h4>ğŸ’¡ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…Ù‡Ù…Ø©:</h4>
                        <p>â€¢ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªØºÙŠÙŠØ±Ù‡ Ù„Ø§Ø­Ù‚Ø§Ù‹</p>
                        <p>â€¢ ØªØ£ÙƒØ¯ Ù…Ù† ØµØ­Ø© Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ</p>
                        <p>â€¢ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù†ÙØ³ Ø§Ù„Ù…Ø¹Ø±Ù Ù„Ø­Ø³Ø§Ø¨ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø·</p>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="nav-btn primary" onclick="nextStep()">
                            Ø§Ù„ØªØ§Ù„ÙŠ â†’
                        </button>
                    </div>
                </div>
                
                <!-- Ø§Ù„Ø®Ø·ÙˆØ© 2: ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                <div class="form-step" id="step2">
                    <h3 style="color: var(--gold); margin-bottom: 20px; border-bottom: 2px solid var(--gold); padding-bottom: 10px;">Ø§Ù„Ø®Ø·ÙˆØ© 2: ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</h3>
                    
                    <!-- ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                    <div class="form-group">
                        <label for="password" class="form-label">
                            ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                        </label>
                        <div class="password-container">
                            <input 
                                type="password" 
                                id="password" 
                                class="form-input password-input"
                                placeholder="Ø§Ø®ØªØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©"
                                required
                                minlength="6"
                            >
                            <button type="button" class="toggle-password" id="togglePassword">
                                ğŸ‘ï¸
                            </button>
                        </div>
                        <div class="input-error" id="passwordError"></div>
                        
                        <!-- Ù…Ø¤Ø´Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                        <div class="password-strength">
                            <div class="strength-bar" id="strengthBar"></div>
                        </div>
                        <div class="strength-text" id="strengthText">Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: Ø¶Ø¹ÙŠÙØ©</div>
                        
                        <!-- Ù…ØªØ·Ù„Ø¨Ø§Øª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                        <div class="requirements">
                            <div class="requirement" id="reqLength">
                                <span class="requirement-icon">ğŸ“</span>
                                <span>6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„</span>
                            </div>
                            <div class="requirement" id="reqNumber">
                                <span class="requirement-icon">ğŸ”¢</span>
                                <span>ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø±Ù‚Ù…</span>
                            </div>
                            <div class="requirement" id="reqLetter">
                                <span class="requirement-icon">ğŸ” </span>
                                <span>ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±Ù ÙƒØ¨ÙŠØ±</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                    <div class="form-group">
                        <label for="confirmPassword" class="form-label">
                            ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                        </label>
                        <div class="password-container">
                            <input 
                                type="password" 
                                id="confirmPassword" 
                                class="form-input password-input"
                                placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                                required
                            >
                            <button type="button" class="toggle-password" id="toggleConfirmPassword">
                                ğŸ‘ï¸
                            </button>
                        </div>
                        <div class="input-error" id="confirmPasswordError"></div>
                        <div class="form-tip">Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù†ÙØ³Ù‡Ø§ Ù„Ù„ØªØ£ÙƒÙŠØ¯</div>
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="nav-btn" onclick="prevStep()">
                            â† Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                        <button type="button" class="nav-btn primary" onclick="nextStep()">
                            Ø§Ù„ØªØ§Ù„ÙŠ â†’
                        </button>
                    </div>
                </div>
                
                <!-- Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© -->
                <div class="form-step" id="step3">
                    <h3 style="color: var(--gold); margin-bottom: 20px; border-bottom: 2px solid var(--gold); padding-bottom: 10px;">Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©</h3>
                    
                    <!-- Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
                    <div class="terms-container">
                        <h4 style="color: var(--gold); margin-bottom: 15px;">ğŸ“‹ Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…:</h4>
                        <ul style="color: var(--light-gray); padding-right: 20px;">
                            <li style="margin-bottom: 10px;">â€¢ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø£Ø®Ù„Ø§Ù‚ÙŠØ§Øª Ø§Ù„Ù„Ø¹Ø¨</li>
                            <li style="margin-bottom: 10px;">â€¢ Ø§Ø­ØªØ±Ø§Ù… Ø¬Ù…ÙŠØ¹ Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„ÙƒÙ„Ø§Ù†</li>
                            <li style="margin-bottom: 10px;">â€¢ Ø§Ù„Ù…Ø´Ø§Ø±ÙƒØ© ÙÙŠ Ø§Ù„Ø£Ù†Ø´Ø·Ø© ÙˆØ§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª</li>
                            <li style="margin-bottom: 10px;">â€¢ Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø³Ø±ÙŠØ© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨</li>
                            <li style="margin-bottom: 10px;">â€¢ Ø§Ù„Ø§Ù„ØªØ²Ø§Ù… Ø¨Ø§Ù„Ù‚ÙˆØ§Ù†ÙŠÙ† ÙˆØ§Ù„Ù„ÙˆØ§Ø¦Ø­</li>
                        </ul>
                    </div>
                    
                    <!-- Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© -->
                    <div class="form-group">
                        <div class="form-option" style="margin: 20px 0;">
                            <input type="checkbox" id="agreeTerms" required>
                            <label for="agreeTerms">
                                Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" style="color: var(--gold);">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> 
                                Ùˆ <a href="#" style="color: var(--gold);">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                            </label>
                        </div>
                        
                        <div class="form-option" style="margin: 20px 0;">
                            <input type="checkbox" id="newsletter">
                            <label for="newsletter">
                                Ø£Ø±ØºØ¨ ÙÙŠ ØªÙ„Ù‚ÙŠ Ø£Ø®Ø¨Ø§Ø± Ø§Ù„ÙƒÙ„Ø§Ù† ÙˆØ§Ù„Ø¹Ø±ÙˆØ¶ Ø§Ù„Ø®Ø§ØµØ©
                            </label>
                        </div>
                    </div>
                    
                    <div class="performance-tip">
                        ğŸ’¡ Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ ÙÙˆØ± Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± "Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨"
                    </div>
                    
                    <div class="form-navigation">
                        <button type="button" class="nav-btn" onclick="prevStep()">
                            â† Ø§Ù„Ø³Ø§Ø¨Ù‚
                        </button>
                        <button type="submit" class="nav-btn primary" id="submitRegisterBtn">
                            Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                        </button>
                    </div>
                </div>
                
                <!-- Ø±Ø§Ø¨Ø· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
                <div class="auth-link">
                    <p>Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="login.html">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></p>
                </div>
            </form>
        </div>
        
        <!-- ØªØµÙ…ÙŠÙ… Ø®Ù„ÙÙŠØ© -->
        <div class="auth-design">
            <div class="design-element de1"></div>
            <div class="design-element de2"></div>
            <div class="design-element de3"></div>
        </div>
    </div>

    <script src="js/auth.js"></script>
    <script>
        // Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø®Ø·ÙˆØ§Øª
        let currentStep = 1;
        const totalSteps = 3;
        
        // Ø§Ù„Ø¯ÙˆØ§Ù„ Ù„Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø®Ø·ÙˆØ§Øª
        function nextStep() {
            if (validateStep(currentStep)) {
                document.getElementById(`step${currentStep}`).classList.remove('active');
                currentStep++;
                document.getElementById(`step${currentStep}`).classList.add('active');
                updateProgress();
            }
        }
        
        function prevStep() {
            document.getElementById(`step${currentStep}`).classList.remove('active');
            currentStep--;
            document.getElementById(`step${currentStep}`).classList.add('active');
            updateProgress();
        }
        
        function updateProgress() {
            // ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Ù…Ø¤Ø´Ø± ØªÙ‚Ø¯Ù… Ù‡Ù†Ø§
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø®Ø·ÙˆØ©
        function validateStep(step) {
            let isValid = true;
            clearErrors();
            
            switch(step) {
                case 1:
                    const pubgId = document.getElementById('pubgId').value.trim();
                    const username = document.getElementById('username').value.trim();
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ
                    if (!pubgId) {
                        showError('pubgIdError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ');
                        isValid = false;
                    } else if (!/^\d{10}$/.test(pubgId)) {
                        showError('pubgIdError', 'âš ï¸ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·');
                        isValid = false;
                    }
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    if (!username) {
                        showError('usernameError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
                        isValid = false;
                    } else if (username.length < 3) {
                        showError('usernameError', 'âš ï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                        isValid = false;
                    } else if (!/^[a-zA-Z0-9_]+$/.test(username)) {
                        showError('usernameError', 'âš ï¸ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø±Ù Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØ£Ø±Ù‚Ø§Ù… ÙˆØ´Ø±Ø·Ø© Ø³ÙÙ„ÙŠØ© ÙÙ‚Ø·');
                        isValid = false;
                    }
                    break;
                    
                case 2:
                    const password = document.getElementById('password').value;
                    const confirmPassword = document.getElementById('confirmPassword').value;
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    if (!password) {
                        showError('passwordError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                        isValid = false;
                    } else if (password.length < 6) {
                        showError('passwordError', 'âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                        isValid = false;
                    }
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    if (!confirmPassword) {
                        showError('confirmPasswordError', 'âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                        isValid = false;
                    } else if (password !== confirmPassword) {
                        showError('confirmPasswordError', 'âš ï¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
                        isValid = false;
                    }
                    break;
            }
            
            return isValid;
        }
        
        // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const togglePassword = document.getElementById('togglePassword');
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        
        // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø§Ù„Ø£ÙˆÙ„Ù‰
        togglePassword.addEventListener('click', function() {
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
        });
        
        // ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        toggleConfirmPassword.addEventListener('click', function() {
            const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            confirmPasswordInput.setAttribute('type', type);
            this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
        });
        
        // ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        passwordInput.addEventListener('input', function() {
            checkPasswordStrength(this.value);
        });
        
        // ÙˆØ¸ÙŠÙØ© Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function checkPasswordStrength(password) {
            const strengthBar = document.getElementById('strengthBar');
            const strengthText = document.getElementById('strengthText');
            
            let strength = 0;
            let color = 'var(--error)';
            let text = 'Ø¶Ø¹ÙŠÙØ©';
            let className = 'weak';
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø·ÙˆÙ„
            const hasLength = password.length >= 6;
            const reqLength = document.getElementById('reqLength');
            reqLength.classList.toggle('valid', hasLength);
            reqLength.classList.toggle('invalid', !hasLength);
            if (hasLength) strength += 25;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù…
            const hasNumber = /\d/.test(password);
            const reqNumber = document.getElementById('reqNumber');
            reqNumber.classList.toggle('valid', hasNumber);
            reqNumber.classList.toggle('invalid', !hasNumber);
            if (hasNumber) strength += 25;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„ÙƒØ¨ÙŠØ±Ø©
            const hasUpper = /[A-Z]/.test(password);
            const reqLetter = document.getElementById('reqLetter');
            reqLetter.classList.toggle('valid', hasUpper);
            reqLetter.classList.toggle('invalid', !hasUpper);
            if (hasUpper) strength += 25;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„ØµØºÙŠØ±Ø©
            const hasLower = /[a-z]/.test(password);
            if (hasLower) strength += 25;
            
            // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù‚ÙˆØ©
            if (strength >= 75) {
                color = 'var(--success)';
                text = 'Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹';
                className = 'strong';
            } else if (strength >= 50) {
                color = 'var(--warning)';
                text = 'Ø¬ÙŠØ¯Ø©';
                className = 'medium';
            }
            
            strengthBar.style.width = strength + '%';
            strengthBar.style.background = color;
            strengthBar.className = 'strength-bar ' + className;
            strengthText.textContent = `Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${text}`;
            strengthText.style.color = color;
        }
        
        // Ø¹Ø±Ø¶ Ø¥Ø´Ø¹Ø§Ø±
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            notification.textContent = message;
            notification.style.display = 'block';
            notification.style.background = type === 'success' ? 'var(--success)' : 'var(--error)';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 3000);
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ§Øª
            for (let i = 1; i <= totalSteps; i++) {
                if (!validateStep(i)) {
                    // Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø®Ø·ÙˆØ© Ø§Ù„ØªÙŠ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø®Ø·Ø£
                    document.querySelectorAll('.form-step').forEach(step => {
                        step.classList.remove('active');
                    });
                    document.getElementById(`step${i}`).classList.add('active');
                    currentStep = i;
                    return;
                }
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ·
            if (!document.getElementById('agreeTerms').checked) {
                showNotification('âš ï¸ ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…', 'error');
                return;
            }
            
            // Ø¬Ù…Ø¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
            const pubgId = document.getElementById('pubgId').value.trim();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const newsletter = document.getElementById('newsletter').checked;
            
            // ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø²Ø± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
            const submitBtn = document.getElementById('submitRegisterBtn');
            submitBtn.disabled = true;
            submitBtn.innerHTML = 'â³ Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨...';
            
            // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ£Ø®ÙŠØ± Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
            setTimeout(() => {
                let users = JSON.parse(localStorage.getItem('users')) || [];
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                if (users.find(user => user.username === username)) {
                    showError('usernameError', 'âŒ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨';
                    return;
                }
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ
                if (users.find(user => user.pubgId === pubgId)) {
                    showError('pubgIdError', 'âŒ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„');
                    submitBtn.disabled = false;
                    submitBtn.innerHTML = 'Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨';
                    return;
                }
                
                // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
                const newUser = {
                    id: Date.now(),
                    pubgId: pubgId,
                    username: username,
                    password: password,
                    joinDate: new Date().toISOString(),
                    newsletter: newsletter,
                    stats: {
                        matches: 0,
                        wins: 0,
                        kills: 0,
                        kd: 0.0
                    }
                };
                
                users.push(newUser);
                localStorage.setItem('users', JSON.stringify(users));
                
                // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                localStorage.setItem('currentUser', JSON.stringify({
                    username: username,
                    pubgId: pubgId,
                    joinDate: newUser.joinDate
                }));
                
                showNotification('ğŸ‰ ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                
                // ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø¹Ø¯ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
                setTimeout(() => {
                    window.location.href = 'main.html';
                }, 1500);
            }, 1000);
        });
        
        function showError(elementId, message) {
            const errorElement = document.getElementById(elementId);
            errorElement.textContent = message;
            errorElement.style.display = 'block';
            
            // Ø¥Ø¶Ø§ÙØ© ÙƒÙ„Ø§Ø³ Ø®Ø·Ø£ Ù„Ù„Ø­Ù‚Ù„
            const inputId = elementId.replace('Error', '');
            const inputElement = document.getElementById(inputId);
            if (inputElement) {
                inputElement.classList.add('error');
            }
        }
        
        function clearErrors() {
            const errorElements = document.querySelectorAll('.input-error');
            errorElements.forEach(el => {
                el.textContent = '';
                el.style.display = 'none';
            });
            
            const inputs = document.querySelectorAll('.form-input');
            inputs.forEach(input => {
                input.classList.remove('error');
            });
        }
        
        // Ù…Ø³Ø­ Ø§Ù„Ø®Ø·Ø£ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©
        document.querySelectorAll('.form-input').forEach(input => {
            input.addEventListener('input', function() {
                this.classList.remove('error');
                const errorId = this.id + 'Error';
                const errorElement = document.getElementById(errorId);
                if (errorElement) {
                    errorElement.style.display = 'none';
                }
            });
        });
        
        // ØªÙ‡ÙŠØ¦Ø© Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        checkPasswordStrength('');
    </script>
</body>
</html>
