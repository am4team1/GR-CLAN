<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ - GR CLAN</title>
    <link rel="stylesheet" href="css/colors.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        .auth-page {
            min-height: 100vh;
            padding: 20px;
        }
        
        /* Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© */
        .back-home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(212, 175, 55, 0.2);
            border: 2px solid var(--gold);
            color: var(--gold);
            padding: 10px 20px;
            border-radius: 50px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .back-home-btn:hover {
            background: var(--gold);
            color: var(--dark-blue);
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }
        
        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ */
        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
            animation: slideInDown 0.3s ease;
        }
        
        .alert-success {
            background: rgba(46, 213, 115, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }
        
        .alert-error {
            background: rgba(255, 71, 87, 0.2);
            border: 1px solid var(--error);
            color: var(--error);
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: var(--gold);
            color: var(--dark-blue);
        }
        
        .btn-primary:hover {
            background: var(--gold-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„ */
        .form-input:focus {
            border-color: var(--gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„ØµØºÙŠØ± */
        .clan-logo-small {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
            border: 3px solid rgba(255, 255, 255, 0.9);
        }
        
        .clan-logo-small img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }
        
        /* Ø´Ø±ÙŠØ· Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± */
        .strength-indicator {
            display: flex;
            gap: 5px;
            margin-top: 10px;
        }
        
        .strength-bar {
            height: 5px;
            flex: 1;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        .strength-bar.active {
            background: var(--success);
        }
        
        /* Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        .auth-wrapper {
            max-height: 85vh;
            overflow-y: auto;
        }
    </style>
</head>
<body class="auth-page">
    <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <a href="index.html" class="back-home-btn">
        <span>ğŸ </span>
        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </a>
    
    <!-- Ø­Ø§ÙˆÙŠØ© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ -->
    <div class="auth-wrapper">
        <div class="auth-container">
            <!-- Ø§Ù„Ø±Ø£Ø³ -->
            <div class="auth-header">
                <div class="clan-logo-small">
                    <img src="assets/images/clan-logo.png" alt="Ø´Ø¹Ø§Ø± GR CLAN">
                </div>
                <h1 class="auth-title">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</h1>
                <p class="auth-subtitle">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ GR CLAN ÙˆØ§Ø¨Ø¯Ø£ Ø±Ø­Ù„ØªÙƒ Ù…Ø¹Ù†Ø§</p>
            </div>
            
            <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
            <div id="alertMessage" class="alert"></div>
            
            <!-- Ù†Ù…ÙˆØ°Ø¬ Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ -->
            <form id="registerForm" class="auth-form">
                <!-- Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ -->
                <div class="form-group">
                    <label for="pubgId" class="form-label">
                        Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ (PUBG ID)
                    </label>
                    <input 
                        type="text" 
                        id="pubgId" 
                        class="form-input"
                        placeholder="Ø£Ø¯Ø®Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ (10 Ø£Ø±Ù‚Ø§Ù…)"
                        required
                        maxlength="10"
                        pattern="[0-9]{10}"
                        oninput="this.value = this.value.replace(/[^0-9]/g, '').slice(0, 10)"
                    >
                    <div class="input-error" id="pubgIdError"></div>
                    <div class="form-tip">ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ ÙÙŠ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©</div>
                </div>
                
                <!-- Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
                <div class="form-group">
                    <label for="username" class="form-label">
                        Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    </label>
                    <input 
                        type="text" 
                        id="username" 
                        class="form-input"
                        placeholder="Ø§Ø®ØªØ± Ø§Ø³Ù… Ù…Ø³ØªØ®Ø¯Ù… ÙØ±ÙŠØ¯"
                        required
                        minlength="3"
                        maxlength="20"
                        pattern="[a-zA-Z0-9_]+"
                    >
                    <div class="input-error" id="usernameError"></div>
                    <div class="form-tip">3-20 Ø­Ø±ÙØŒ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø±Ù Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØ£Ø±Ù‚Ø§Ù… Ùˆ _</div>
                </div>
                
                <!-- ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                <div class="form-group">
                    <label for="password" class="form-label">
                        ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    </label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="password" 
                            class="form-input password-input"
                            placeholder="Ø§Ø®ØªØ± ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©"
                            required
                            minlength="6"
                        >
                        <button type="button" class="toggle-password" id="togglePassword">
                            ğŸ‘ï¸
                        </button>
                    </div>
                    <div class="input-error" id="passwordError"></div>
                    
                    <!-- Ù…Ø¤Ø´Ø± Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                    <div class="strength-indicator">
                        <div class="strength-bar" id="strengthBar1"></div>
                        <div class="strength-bar" id="strengthBar2"></div>
                        <div class="strength-bar" id="strengthBar3"></div>
                        <div class="strength-bar" id="strengthBar4"></div>
                    </div>
                    <div class="strength-text" id="strengthText" style="font-size: 0.9rem; margin-top: 5px; color: var(--medium-gray);"></div>
                </div>
                
                <!-- ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                <div class="form-group">
                    <label for="confirmPassword" class="form-label">
                        ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    </label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="confirmPassword" 
                            class="form-input password-input"
                            placeholder="Ø£Ø¹Ø¯ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                            required
                        >
                        <button type="button" class="toggle-password" id="toggleConfirmPassword">
                            ğŸ‘ï¸
                        </button>
                    </div>
                    <div class="input-error" id="confirmPasswordError"></div>
                </div>
                
                <!-- Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… -->
                <div class="form-group">
                    <div class="form-option" style="margin: 20px 0;">
                        <input type="checkbox" id="agreeTerms" required>
                        <label for="agreeTerms">
                            Ø£ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ <a href="#" style="color: var(--gold);">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a> 
                            Ùˆ <a href="#" style="color: var(--gold);">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a>
                        </label>
                    </div>
                </div>
                
                <!-- Ø²Ø± Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ -->
                <button type="submit" class="submit-btn">
                    <span class="btn-icon">ğŸ“</span>
                    Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨
                </button>
                
                <!-- Ø±Ø§Ø¨Ø· ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
                <div class="auth-link">
                    <p>Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="login.html">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</a></p>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ===== Ù†Ø¸Ø§Ù… Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ =====
        
        // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirmPassword');
        const togglePassword = document.getElementById('togglePassword');
        const toggleConfirmPassword = document.getElementById('toggleConfirmPassword');
        
        // ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        if (togglePassword) {
            togglePassword.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
            });
        }
        
        // ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        if (toggleConfirmPassword) {
            toggleConfirmPassword.addEventListener('click', function() {
                const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordInput.setAttribute('type', type);
                this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
            });
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        function checkPasswordStrength(password) {
            let strength = 0;
            
            // Ø·ÙˆÙ„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            if (password.length >= 6) strength += 1;
            if (password.length >= 8) strength += 1;
            
            // ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù…
            if (/\d/.test(password)) strength += 1;
            
            // ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±ÙˆÙ ÙƒØ¨ÙŠØ±Ø© ÙˆØµØºÙŠØ±Ø©
            if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength += 1;
            
            // ØªØ­Ø¯ÙŠØ« Ø´Ø±ÙŠØ· Ø§Ù„Ù‚ÙˆØ©
            const bars = ['strengthBar1', 'strengthBar2', 'strengthBar3', 'strengthBar4'];
            const texts = ['Ø¶Ø¹ÙŠÙØ© Ø¬Ø¯Ø§Ù‹', 'Ø¶Ø¹ÙŠÙØ©', 'Ø¬ÙŠØ¯Ø©', 'Ù‚ÙˆÙŠØ©', 'Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹'];
            
            bars.forEach((barId, index) => {
                const bar = document.getElementById(barId);
                if (bar) {
                    if (index < strength) {
                        let color;
                        if (strength === 1) color = 'var(--error)';
                        else if (strength === 2) color = 'var(--warning)';
                        else color = 'var(--success)';
                        
                        bar.style.background = color;
                        bar.classList.add('active');
                    } else {
                        bar.style.background = '';
                        bar.classList.remove('active');
                    }
                }
            });
            
            // ØªØ­Ø¯ÙŠØ« Ù†Øµ Ø§Ù„Ù‚ÙˆØ©
            const strengthText = document.getElementById('strengthText');
            if (strengthText) {
                strengthText.textContent = `Ù‚ÙˆØ© ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: ${texts[strength]}`;
                
                // ØªØºÙŠÙŠØ± Ø§Ù„Ù„ÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„Ù‚ÙˆØ©
                if (strength === 1) strengthText.style.color = 'var(--error)';
                else if (strength === 2) strengthText.style.color = 'var(--warning)';
                else if (strength >= 3) strengthText.style.color = 'var(--success)';
                else strengthText.style.color = 'var(--medium-gray)';
            }
            
            return strength;
        }
        
        // Ø§Ø³ØªÙ…Ø§Ø¹ Ù„ØªØºÙŠØ±Ø§Øª ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        if (passwordInput) {
            passwordInput.addEventListener('input', function() {
                checkPasswordStrength(this.value);
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…ØªÙŠ Ø§Ù„Ù…Ø±ÙˆØ±
                const confirmPassword = document.getElementById('confirmPassword').value;
                if (confirmPassword && this.value !== confirmPassword) {
                    document.getElementById('confirmPasswordError').textContent = 'âš ï¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©';
                    document.getElementById('confirmPasswordError').style.display = 'block';
                } else {
                    document.getElementById('confirmPasswordError').style.display = 'none';
                }
            });
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ·Ø§Ø¨Ù‚ ÙƒÙ„Ù…ØªÙŠ Ø§Ù„Ù…Ø±ÙˆØ±
        if (confirmPasswordInput) {
            confirmPasswordInput.addEventListener('input', function() {
                const password = document.getElementById('password').value;
                
                if (this.value && password !== this.value) {
                    document.getElementById('confirmPasswordError').textContent = 'âš ï¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©';
                    document.getElementById('confirmPasswordError').style.display = 'block';
                } else {
                    document.getElementById('confirmPasswordError').style.display = 'none';
                }
            });
        }
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡
        function showAlert(message, type = 'success') {
            const alertDiv = document.getElementById('alertMessage');
            alertDiv.textContent = message;
            alertDiv.className = `alert alert-${type}`;
            alertDiv.style.display = 'block';
            
            setTimeout(() => {
                alertDiv.style.display = 'none';
            }, 5000);
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø®Ø·Ø£ ÙÙŠ Ø­Ù‚Ù„ Ù…Ø¹ÙŠÙ†
        function showFieldError(fieldId, message) {
            const errorDiv = document.getElementById(fieldId + 'Error');
            const inputField = document.getElementById(fieldId);
            
            if (errorDiv) {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
            }
            
            if (inputField) {
                inputField.classList.add('error');
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©
                inputField.addEventListener('input', function() {
                    this.classList.remove('error');
                    const errorElement = document.getElementById(this.id + 'Error');
                    if (errorElement) {
                        errorElement.style.display = 'none';
                    }
                });
            }
        }
        
        // Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
        function clearErrors() {
            const errorElements = document.querySelectorAll('.input-error');
            errorElements.forEach(el => {
                el.textContent = '';
                el.style.display = 'none';
            });
            
            const inputs = document.querySelectorAll('.form-input');
            inputs.forEach(input => {
                input.classList.remove('error');
            });
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function validateRegisterForm() {
            clearErrors();
            
            const pubgId = document.getElementById('pubgId').value.trim();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const agreeTerms = document.getElementById('agreeTerms').checked;
            
            let isValid = true;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ
            if (!pubgId) {
                showFieldError('pubgId', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ');
                isValid = false;
            } else if (!/^\d{10}$/.test(pubgId)) {
                showFieldError('pubgId', 'âš ï¸ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 10 Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·');
                isValid = false;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (!username) {
                showFieldError('username', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
                isValid = false;
            } else if (username.length < 3) {
                showFieldError('username', 'âš ï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† 3 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                isValid = false;
            } else if (!/^[a-zA-Z0-9_]+$/.test(username)) {
                showFieldError('username', 'âš ï¸ ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø­Ø±Ù Ø¥Ù†Ø¬Ù„ÙŠØ²ÙŠØ© ÙˆØ£Ø±Ù‚Ø§Ù… ÙˆØ´Ø±Ø·Ø© Ø³ÙÙ„ÙŠØ© ÙÙ‚Ø·');
                isValid = false;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            if (!password) {
                showFieldError('password', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                isValid = false;
            } else if (password.length < 6) {
                showFieldError('password', 'âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† 6 Ø£Ø­Ø±Ù Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù‚Ù„');
                isValid = false;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            if (!confirmPassword) {
                showFieldError('confirmPassword', 'âš ï¸ ÙŠØ±Ø¬Ù‰ ØªØ£ÙƒÙŠØ¯ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                isValid = false;
            } else if (password !== confirmPassword) {
                showFieldError('confirmPassword', 'âš ï¸ ÙƒÙ„Ù…Ø§Øª Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± Ù…ØªØ·Ø§Ø¨Ù‚Ø©');
                isValid = false;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø´Ø±ÙˆØ·
            if (!agreeTerms) {
                showAlert('âš ï¸ ÙŠØ¬Ø¨ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø© Ø¹Ù„Ù‰ Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù… ÙˆØ³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©', 'error');
                isValid = false;
            }
            
            return isValid;
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… ØªÙƒØ±Ø§Ø± Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ
        function checkUserExists(username, pubgId) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            const usernameExists = users.some(user => user.username === username);
            if (usernameExists) {
                return { exists: true, field: 'username', message: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù…ÙˆØ¬ÙˆØ¯ Ø¨Ø§Ù„ÙØ¹Ù„' };
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ
            const pubgIdExists = users.some(user => user.pubgId === pubgId);
            if (pubgIdExists) {
                return { exists: true, field: 'pubgId', message: 'Ù…Ø¹Ø±Ù Ø§Ù„Ø¨Ø¨Ø¬ÙŠ Ù…Ø³Ø¬Ù„ Ø¨Ø§Ù„ÙØ¹Ù„' };
            }
            
            return { exists: false };
        }
        
        // Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯
        function createUser(pubgId, username, password) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            
            const newUser = {
                id: Date.now(),
                pubgId: pubgId,
                username: username,
                password: password,
                joinDate: new Date().toISOString(),
                stats: {
                    matches: 0,
                    wins: 0,
                    kills: 0,
                    kd: 0.0
                }
            };
            
            users.push(newUser);
            localStorage.setItem('users', JSON.stringify(users));
            
            return newUser;
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        const registerForm = document.getElementById('registerForm');
        if (registerForm) {
            registerForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (validateRegisterForm()) {
                    const pubgId = document.getElementById('pubgId').value.trim();
                    const username = document.getElementById('username').value.trim();
                    const password = document.getElementById('password').value;
                    
                    // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¹Ø¯Ù… Ø§Ù„ØªÙƒØ±Ø§Ø±
                    const checkResult = checkUserExists(username, pubgId);
                    if (checkResult.exists) {
                        showFieldError(checkResult.field, 'âŒ ' + checkResult.message);
                        return;
                    }
                    
                    // ØªØºÙŠÙŠØ± Ù†Øµ Ø§Ù„Ø²Ø± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                    const submitBtn = registerForm.querySelector('.submit-btn');
                    const originalText = submitBtn.innerHTML;
                    submitBtn.innerHTML = '<span class="btn-icon">â³</span> Ø¬Ø§Ø±ÙŠ Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨...';
                    submitBtn.disabled = true;
                    
                    // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ£Ø®ÙŠØ± Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                    setTimeout(() => {
                        // Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨
                        const newUser = createUser(pubgId, username, password);
                        
                        // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
                        localStorage.setItem('currentUser', JSON.stringify({
                            id: newUser.id,
                            username: newUser.username,
                            pubgId: newUser.pubgId,
                            joinDate: newUser.joinDate,
                            stats: newUser.stats
                        }));
                        
                        showAlert('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨Ùƒ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                        
                        // ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ù‚ØµÙŠØ±
                        setTimeout(() => {
                            window.location.href = 'main.html';
                        }, 1500);
                    }, 1000);
                }
            });
        }
        
        // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø£ÙˆÙ„ Ø­Ù‚Ù„ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        window.addEventListener('load', function() {
            document.getElementById('pubgId').focus();
            
            // Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„
            console.log('ğŸŒ ØµÙØ­Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ - GR CLAN Ø¬Ø§Ù‡Ø²Ø©');
        });
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                const focused = document.activeElement;
                if (focused && focused.type !== 'textarea') {
                    e.preventDefault();
                    if (focused.type === 'submit') {
                        focused.click();
                    } else if (focused.form) {
                        focused.form.dispatchEvent(new Event('submit'));
                    }
                }
            }
        });
    </script>
</body>
</html>
