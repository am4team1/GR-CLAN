<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - GR CLAN</title>
    <link rel="stylesheet" href="css/colors.css">
    <link rel="stylesheet" href="css/style.css">
    <style>
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© */
        .auth-page {
            min-height: 100vh;
            padding: 20px;
        }
        
        /* Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© */
        .back-home-btn {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(212, 175, 55, 0.2);
            border: 2px solid var(--gold);
            color: var(--gold);
            padding: 10px 20px;
            border-radius: 50px;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.95rem;
            font-weight: 600;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        .back-home-btn:hover {
            background: var(--gold);
            color: var(--dark-blue);
            transform: translateX(-5px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }
        
        /* Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ */
        .alert {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: none;
            animation: slideInDown 0.3s ease;
        }
        
        .alert-success {
            background: rgba(46, 213, 115, 0.2);
            border: 1px solid var(--success);
            color: var(--success);
        }
        
        .alert-error {
            background: rgba(255, 71, 87, 0.2);
            border: 1px solid var(--error);
            color: var(--error);
        }
        
        /* ØªØ­Ø³ÙŠÙ†Ø§Øª Ù„Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
        }
        
        .btn-primary {
            background: var(--gold);
            color: var(--dark-blue);
        }
        
        .btn-primary:hover {
            background: var(--gold-light);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);
        }
        
        .btn-secondary {
            background: rgba(212, 175, 55, 0.1);
            border: 2px solid var(--gold);
            color: var(--gold);
        }
        
        .btn-secondary:hover {
            background: var(--gold);
            color: var(--dark-blue);
        }
        
        /* Ø¥ØµÙ„Ø§Ø­ Ø§Ù„ØªÙ…Ø±ÙŠØ± */
        .auth-wrapper {
            max-height: 85vh;
            overflow-y: auto;
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø­Ù‚ÙˆÙ„ */
        .form-input:focus {
            border-color: var(--gold);
            box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
        }
        
        /* ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø´Ø¹Ø§Ø± Ø§Ù„ØµØºÙŠØ± */
        .clan-logo-small {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            box-shadow: 0 0 30px rgba(212, 175, 55, 0.4);
            border: 3px solid rgba(255, 255, 255, 0.9);
        }
        
        .clan-logo-small img {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            object-fit: cover;
        }
    </style>
</head>
<body class="auth-page">
    <!-- Ø²Ø± Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ© -->
    <a href="index.html" class="back-home-btn">
        <span>ğŸ </span>
        Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
    </a>
    
    <!-- Ø­Ø§ÙˆÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
    <div class="auth-wrapper">
        <div class="auth-container">
            <!-- Ø§Ù„Ø±Ø£Ø³ -->
            <div class="auth-header">
                <div class="clan-logo-small">
                    <img src="assets/images/clan-logo.png" alt="Ø´Ø¹Ø§Ø± GR CLAN">
                </div>
                <h1 class="auth-title">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>
                <p class="auth-subtitle">Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨Ùƒ Ù„Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ GR CLAN</p>
            </div>
            
            <!-- Ø±Ø³Ø§Ø¦Ù„ Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡ -->
            <div id="alertMessage" class="alert"></div>
            
            <!-- Ù†Ù…ÙˆØ°Ø¬ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
            <form id="loginForm" class="auth-form">
                <!-- Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… -->
                <div class="form-group">
                    <label for="loginUsername" class="form-label">
                        Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
                    </label>
                    <input 
                        type="text" 
                        id="loginUsername" 
                        class="form-input"
                        placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…"
                        required
                        autocomplete="username"
                    >
                    <div class="input-error" id="usernameError"></div>
                </div>
                
                <!-- ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± -->
                <div class="form-group">
                    <label for="loginPassword" class="form-label">
                        ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
                    </label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="loginPassword" 
                            class="form-input password-input"
                            placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±"
                            required
                            autocomplete="current-password"
                        >
                        <button type="button" class="toggle-password" id="togglePassword">
                            ğŸ‘ï¸
                        </button>
                    </div>
                    <div class="input-error" id="passwordError"></div>
                </div>
                
                <!-- Ø®ÙŠØ§Ø±Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ© -->
                <div class="form-options">
                    <div class="form-option">
                        <input type="checkbox" id="rememberMe">
                        <label for="rememberMe">ØªØ°ÙƒØ±Ù†ÙŠ Ø¹Ù„Ù‰ Ù‡Ø°Ø§ Ø§Ù„Ø¬Ù‡Ø§Ø²</label>
                    </div>
                </div>
                
                <!-- Ø²Ø± ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
                <button type="submit" class="submit-btn">
                    <span class="btn-icon">ğŸ”</span>
                    ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
                </button>
                
                <!-- Ø±Ø§Ø¨Ø· Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ -->
                <div class="auth-link">
                    <p>Ù„ÙŠØ³ Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ØŸ <a href="register.html">Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯</a></p>
                </div>
            </form>
        </div>
    </div>

    <script>
        // ===== Ù†Ø¸Ø§Ù… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ =====
        
        // ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† Ø¥Ø°Ø§ Ù„Ù… ØªÙƒÙ† Ù…ÙˆØ¬ÙˆØ¯Ø©
        function initializeUsers() {
            if (!localStorage.getItem('users')) {
                const defaultUsers = [
                    {
                        id: 1,
                        username: 'admin',
                        password: 'admin123',
                        pubgId: '5123456789',
                        joinDate: new Date().toISOString(),
                        stats: {
                            matches: 150,
                            wins: 75,
                            kills: 1250,
                            kd: 3.2
                        }
                    }
                ];
                localStorage.setItem('users', JSON.stringify(defaultUsers));
                console.log('âœ… ØªÙ… ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ†');
            }
        }
        
        // Ø§Ø³ØªØ¯Ø¹Ø§Ø¡ Ø§Ù„ØªÙ‡ÙŠØ¦Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        initializeUsers();
        
        // Ø§Ù„ØªØ­ÙƒÙ… ÙÙŠ Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
        const passwordInput = document.getElementById('loginPassword');
        const togglePassword = document.getElementById('togglePassword');
        
        if (togglePassword) {
            togglePassword.addEventListener('click', function() {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                this.textContent = type === 'password' ? 'ğŸ‘ï¸' : 'ğŸ™ˆ';
            });
        }
        
        // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© ØªÙ†Ø¨ÙŠÙ‡
        function showAlert(message, type = 'success') {
            const alertDiv = document.getElementById('alertMessage');
            alertDiv.textContent = message;
            alertDiv.className = `alert alert-${type}`;
            alertDiv.style.display = 'block';
            
            setTimeout(() => {
                alertDiv.style.display = 'none';
            }, 5000);
        }
        
        // Ø¥Ø¸Ù‡Ø§Ø± Ø®Ø·Ø£ ÙÙŠ Ø­Ù‚Ù„ Ù…Ø¹ÙŠÙ†
        function showFieldError(fieldId, message) {
            const errorDiv = document.getElementById(fieldId + 'Error');
            const inputField = document.getElementById(fieldId);
            
            if (errorDiv) {
                errorDiv.textContent = message;
                errorDiv.style.display = 'block';
            }
            
            if (inputField) {
                inputField.classList.add('error');
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø®Ø·Ø£ Ø¹Ù†Ø¯ Ø§Ù„ÙƒØªØ§Ø¨Ø©
                inputField.addEventListener('input', function() {
                    this.classList.remove('error');
                    const errorElement = document.getElementById(this.id + 'Error');
                    if (errorElement) {
                        errorElement.style.display = 'none';
                    }
                });
            }
        }
        
        // Ù…Ø³Ø­ ÙƒÙ„ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡
        function clearErrors() {
            const errorElements = document.querySelectorAll('.input-error');
            errorElements.forEach(el => {
                el.textContent = '';
                el.style.display = 'none';
            });
            
            const inputs = document.querySelectorAll('.form-input');
            inputs.forEach(input => {
                input.classList.remove('error');
            });
        }
        
        // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ØµØ­Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        function validateLoginForm() {
            clearErrors();
            
            const username = document.getElementById('loginUsername').value.trim();
            const password = document.getElementById('loginPassword').value;
            
            let isValid = true;
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            if (!username) {
                showFieldError('loginUsername', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…');
                isValid = false;
            } else if (username.length < 3) {
                showFieldError('loginUsername', 'âš ï¸ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ù‚ØµÙŠØ± Ø¬Ø¯Ø§Ù‹');
                isValid = false;
            }
            
            // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
            if (!password) {
                showFieldError('loginPassword', 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
                isValid = false;
            } else if (password.length < 6) {
                showFieldError('loginPassword', 'âš ï¸ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ù‚ØµÙŠØ±Ø© Ø¬Ø¯Ø§Ù‹');
                isValid = false;
            }
            
            return isValid;
        }
        
        // Ø¹Ù…Ù„ÙŠØ© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        function loginUser(username, password, rememberMe) {
            const users = JSON.parse(localStorage.getItem('users')) || [];
            const user = users.find(u => u.username === username && u.password === password);
            
            if (user) {
                // Ø­ÙØ¸ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ
                const userData = {
                    id: user.id,
                    username: user.username,
                    pubgId: user.pubgId,
                    joinDate: user.joinDate,
                    stats: user.stats || {}
                };
                
                localStorage.setItem('currentUser', JSON.stringify(userData));
                
                // Ø¥Ø°Ø§ Ø·Ù„Ø¨ ØªØ°ÙƒØ±Ù†ÙŠ
                if (rememberMe) {
                    localStorage.setItem('rememberedUser', JSON.stringify({
                        username: user.username,
                        timestamp: Date.now()
                    }));
                }
                
                return { success: true, user: userData };
            } else {
                return { 
                    success: false, 
                    message: 'Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± ØºÙŠØ± ØµØ­ÙŠØ­Ø©' 
                };
            }
        }
        
        // Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†Ù…ÙˆØ°Ø¬
        const loginForm = document.getElementById('loginForm');
        if (loginForm) {
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                
                if (validateLoginForm()) {
                    const username = document.getElementById('loginUsername').value.trim();
                    const password = document.getElementById('loginPassword').value;
                    const rememberMe = document.getElementById('rememberMe').checked;
                    
                    // ØªØºÙŠÙŠØ± Ù†Øµ Ø§Ù„Ø²Ø± Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                    const submitBtn = loginForm.querySelector('.submit-btn');
                    const originalText = submitBtn.innerHTML;
                    submitBtn.innerHTML = '<span class="btn-icon">â³</span> Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù‚Ù‚...';
                    submitBtn.disabled = true;
                    
                    // Ù…Ø­Ø§ÙƒØ§Ø© ØªØ£Ø®ÙŠØ± Ù„Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©
                    setTimeout(() => {
                        const result = loginUser(username, password, rememberMe);
                        
                        if (result.success) {
                            showAlert('âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ù†Ø¬Ø§Ø­!', 'success');
                            
                            // ØªÙˆØ¬ÙŠÙ‡ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ± Ù‚ØµÙŠØ±
                            setTimeout(() => {
                                window.location.href = 'main.html';
                            }, 1500);
                        } else {
                            showAlert('âŒ ' + result.message, 'error');
                            showFieldError('loginPassword', result.message);
                            submitBtn.innerHTML = originalText;
                            submitBtn.disabled = false;
                        }
                    }, 1000);
                }
            });
        }
        
        // Ù…Ù„Ø¡ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ°ÙƒØ±Ù†ÙŠ Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ù…ÙˆØ¬ÙˆØ¯Ø©
        window.addEventListener('load', function() {
            const remembered = localStorage.getItem('rememberedUser');
            if (remembered) {
                try {
                    const userData = JSON.parse(remembered);
                    const oneWeek = 7 * 24 * 60 * 60 * 1000;
                    
                    if (Date.now() - userData.timestamp < oneWeek) {
                        document.getElementById('loginUsername').value = userData.username;
                        document.getElementById('rememberMe').checked = true;
                    } else {
                        localStorage.removeItem('rememberedUser');
                    }
                } catch (error) {
                    console.error('Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª ØªØ°ÙƒØ±Ù†ÙŠ:', error);
                    localStorage.removeItem('rememberedUser');
                }
            }
            
            // Ø§Ù„ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ø­Ù‚Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…
            document.getElementById('loginUsername').focus();
        });
        
        // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø«ÙŠØ± Ø¹Ù†Ø¯ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && !e.shiftKey) {
                const focused = document.activeElement;
                if (focused && focused.type !== 'textarea') {
                    e.preventDefault();
                    if (focused.type === 'submit') {
                        focused.click();
                    } else if (focused.form) {
                        focused.form.dispatchEvent(new Event('submit'));
                    }
                }
            }
        });
        
        // Ø¥Ø¶Ø§ÙØ© Ø±Ø³Ø§Ù„Ø© ØªØ±Ø­ÙŠØ¨ ÙÙŠ Ø§Ù„ÙƒÙˆÙ†Ø³ÙˆÙ„
        console.log('ğŸŒ ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ - GR CLAN Ø¬Ø§Ù‡Ø²Ø©');
        console.log('ğŸ‘¤ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: admin');
        console.log('ğŸ” ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±: admin123');
    </script>
</body>
</html>
